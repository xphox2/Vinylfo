2026/01/15 12:35:54 Database connected successfully
2026/01/15 12:35:54 Seeding database with sample data...
2026/01/15 12:35:54 Database already seeded, skipping...
=== Validating OAuth Configuration ===
âœ“ DISCOGS_CONSUMER_KEY is set: zmtb****YigT
âœ“ DISCOGS_CONSUMER_SECRET is set: hGRi****yHaT
âœ“ DISCOGS_CALLBACK_URL is set: http://localhost:8080/api/discogs/oauth/callback
âœ“ DISCOGS_CALLBACK_URL uses HTTP with localhost (acceptable for development)

=== OAuth Configuration Summary ===
Current OAuth Settings:
  DISCOGS_CONSUMER_KEY: zmtb****YigT
  DISCOGS_CONSUMER_SECRET: hGRi****yHaT
  DISCOGS_CALLBACK_URL: http://localhost:8080/api/discogs/oauth/callback
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)
[GIN-debug] HEAD   /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)
[GIN-debug] GET    /                         --> main.main.func1 (3 handlers)
[GIN-debug] GET    /dashboard                --> main.main.func2 (3 handlers)
[GIN-debug] GET    /playlist                 --> main.main.func3 (3 handlers)
[GIN-debug] GET    /track/:id                --> main.main.func4 (3 handlers)
[GIN-debug] GET    /settings                 --> main.main.func5 (3 handlers)
[GIN-debug] GET    /sync                     --> main.main.func6 (3 handlers)
[GIN-debug] GET    /search                   --> main.main.func7 (3 handlers)
[GIN-debug] GET    /health                   --> vinylfo/routes.SetupRoutes.func1 (3 handlers)
[GIN-debug] GET    /albums                   --> vinylfo/controllers.(*AlbumController).GetAlbums-fm (3 handlers)
[GIN-debug] GET    /albums/:id               --> vinylfo/controllers.(*AlbumController).GetAlbumByID-fm (3 handlers)
[GIN-debug] GET    /albums/:id/tracks        --> vinylfo/controllers.(*AlbumController).GetTracksByAlbumID-fm (3 handlers)
[GIN-debug] POST   /albums                   --> vinylfo/controllers.(*AlbumController).CreateAlbum-fm (3 handlers)
[GIN-debug] PUT    /albums/:id               --> vinylfo/controllers.(*AlbumController).UpdateAlbum-fm (3 handlers)
[GIN-debug] DELETE /albums/:id               --> vinylfo/controllers.(*AlbumController).DeleteAlbum-fm (3 handlers)
[GIN-debug] GET    /tracks                   --> vinylfo/controllers.(*TrackController).GetTracks-fm (3 handlers)
[GIN-debug] GET    /tracks/:id               --> vinylfo/controllers.(*TrackController).GetTrackByID-fm (3 handlers)
[GIN-debug] POST   /tracks                   --> vinylfo/controllers.(*TrackController).CreateTrack-fm (3 handlers)
[GIN-debug] PUT    /tracks/:id               --> vinylfo/controllers.(*TrackController).UpdateTrack-fm (3 handlers)
[GIN-debug] DELETE /tracks/:id               --> vinylfo/controllers.(*TrackController).DeleteTrack-fm (3 handlers)
[GIN-debug] GET    /playback                 --> vinylfo/controllers.(*PlaybackController).GetCurrent-fm (3 handlers)
[GIN-debug] GET    /playback/current         --> vinylfo/controllers.(*PlaybackController).GetPlaybackState-fm (3 handlers)
[GIN-debug] POST   /playback/start           --> vinylfo/controllers.(*PlaybackController).Start-fm (3 handlers)
[GIN-debug] POST   /playback/start-playlist  --> vinylfo/controllers.(*PlaybackController).StartPlaylist-fm (3 handlers)
[GIN-debug] POST   /playback/pause           --> vinylfo/controllers.(*PlaybackController).Pause-fm (3 handlers)
[GIN-debug] POST   /playback/resume          --> vinylfo/controllers.(*PlaybackController).Resume-fm (3 handlers)
[GIN-debug] POST   /playback/skip            --> vinylfo/controllers.(*PlaybackController).Skip-fm (3 handlers)
[GIN-debug] POST   /playback/previous        --> vinylfo/controllers.(*PlaybackController).Previous-fm (3 handlers)
[GIN-debug] POST   /playback/stop            --> vinylfo/controllers.(*PlaybackController).Stop-fm (3 handlers)
[GIN-debug] POST   /playback/clear           --> vinylfo/controllers.(*PlaybackController).Clear-fm (3 handlers)
[GIN-debug] POST   /playback/update-progress --> vinylfo/controllers.(*PlaybackController).UpdateProgress-fm (3 handlers)
[GIN-debug] GET    /playback/state           --> vinylfo/controllers.(*PlaybackController).GetState-fm (3 handlers)
[GIN-debug] GET    /playback/history         --> vinylfo/controllers.(*PlaybackController).GetHistory-fm (3 handlers)
[GIN-debug] GET    /playback/history/most-played --> vinylfo/controllers.(*PlaybackController).GetMostPlayed-fm (3 handlers)
[GIN-debug] GET    /playback/history/recent  --> vinylfo/controllers.(*PlaybackController).GetRecent-fm (3 handlers)
[GIN-debug] GET    /playback/history/:track_id --> vinylfo/controllers.(*PlaybackController).GetTrackHistory-fm (3 handlers)
[GIN-debug] POST   /playback/update-history  --> vinylfo/controllers.(*PlaybackController).UpdateHistory-fm (3 handlers)
[GIN-debug] GET    /sessions                 --> vinylfo/controllers.(*PlaylistController).GetSessions-fm (3 handlers)
[GIN-debug] GET    /playback-sessions/:id    --> vinylfo/controllers.(*PlaylistController).GetSessionByID-fm (3 handlers)
[GIN-debug] POST   /sessions                 --> vinylfo/controllers.(*PlaylistController).CreateSession-fm (3 handlers)
[GIN-debug] PUT    /playback-sessions/:id    --> vinylfo/controllers.(*PlaylistController).UpdateSession-fm (3 handlers)
[GIN-debug] DELETE /playback-sessions/:id    --> vinylfo/controllers.(*PlaylistController).DeleteSession-fm (3 handlers)
[GIN-debug] POST   /sessions/playlist        --> vinylfo/controllers.(*PlaylistController).CreatePlaylistSession-fm (3 handlers)
[GIN-debug] GET    /sessions/playlist        --> vinylfo/controllers.(*PlaylistController).GetAllPlaylists-fm (3 handlers)
[GIN-debug] POST   /sessions/playlist/new    --> vinylfo/controllers.(*PlaylistController).CreateNewPlaylist-fm (3 handlers)
[GIN-debug] GET    /sessions/playlist/:id    --> vinylfo/controllers.(*PlaylistController).GetPlaylist-fm (3 handlers)
[GIN-debug] PUT    /sessions/playlist/:id    --> vinylfo/controllers.(*PlaylistController).UpdatePlaylist-fm (3 handlers)
[GIN-debug] DELETE /sessions/playlist/:id    --> vinylfo/controllers.(*PlaylistController).DeletePlaylist-fm (3 handlers)
[GIN-debug] POST   /sessions/playlist/:id/tracks --> vinylfo/controllers.(*PlaylistController).AddTrackToPlaylist-fm (3 handlers)
[GIN-debug] DELETE /sessions/playlist/:id/tracks/:track_id --> vinylfo/controllers.(*PlaylistController).RemoveTrackFromPlaylist-fm (3 handlers)
[GIN-debug] POST   /sessions/playlist/:id/shuffle --> vinylfo/controllers.(*PlaylistController).ShufflePlaylist-fm (3 handlers)
[GIN-debug] POST   /sessions/:session_id/share --> vinylfo/controllers.(*SessionSharingController).CreateSessionSharing-fm (3 handlers)
[GIN-debug] GET    /sessions/:session_id/share --> vinylfo/controllers.(*SessionSharingController).GetSessionSharing-fm (3 handlers)
[GIN-debug] PUT    /sessions/:session_id/share --> vinylfo/controllers.(*SessionSharingController).UpdateSessionSharing-fm (3 handlers)
[GIN-debug] DELETE /sessions/:session_id/share --> vinylfo/controllers.(*SessionSharingController).DeleteSessionSharing-fm (3 handlers)
[GIN-debug] GET    /share/:token             --> vinylfo/controllers.(*SessionSharingController).GetPublicSessionSharing-fm (3 handlers)
[GIN-debug] POST   /sessions/:session_id/notes --> vinylfo/controllers.(*SessionNoteController).CreateSessionNote-fm (3 handlers)
[GIN-debug] GET    /sessions/:session_id/notes --> vinylfo/controllers.(*SessionNoteController).GetSessionNotes-fm (3 handlers)
[GIN-debug] GET    /notes/:id                --> vinylfo/controllers.(*SessionNoteController).GetSessionNote-fm (3 handlers)
[GIN-debug] PUT    /notes/:id                --> vinylfo/controllers.(*SessionNoteController).UpdateSessionNote-fm (3 handlers)
[GIN-debug] DELETE /notes/:id                --> vinylfo/controllers.(*SessionNoteController).DeleteSessionNote-fm (3 handlers)
[GIN-debug] GET    /api/discogs/oauth/url    --> vinylfo/controllers.(*DiscogsController).GetOAuthURL-fm (3 handlers)
[GIN-debug] GET    /api/discogs/oauth/callback --> vinylfo/controllers.(*DiscogsController).OAuthCallback-fm (3 handlers)
[GIN-debug] POST   /api/discogs/disconnect   --> vinylfo/controllers.(*DiscogsController).Disconnect-fm (3 handlers)
[GIN-debug] GET    /api/discogs/status       --> vinylfo/controllers.(*DiscogsController).GetStatus-fm (3 handlers)
[GIN-debug] GET    /api/discogs/search       --> vinylfo/controllers.(*DiscogsController).Search-fm (3 handlers)
[GIN-debug] POST   /api/discogs/albums       --> vinylfo/controllers.(*DiscogsController).CreateAlbum-fm (3 handlers)
[GIN-debug] POST   /api/discogs/sync/start   --> vinylfo/controllers.(*DiscogsController).StartSync-fm (3 handlers)
[GIN-debug] GET    /api/discogs/sync/progress --> vinylfo/controllers.(*DiscogsController).GetSyncProgress-fm (3 handlers)
[GIN-debug] GET    /api/discogs/sync/batch/:id --> vinylfo/controllers.(*DiscogsController).GetBatchDetails-fm (3 handlers)
[GIN-debug] POST   /api/discogs/sync/batch/:id/confirm --> vinylfo/controllers.(*DiscogsController).ConfirmBatch-fm (3 handlers)
[GIN-debug] POST   /api/discogs/sync/batch/:id/skip --> vinylfo/controllers.(*DiscogsController).SkipBatch-fm (3 handlers)
[GIN-debug] POST   /api/discogs/sync/cancel  --> vinylfo/controllers.(*DiscogsController).CancelSync-fm (3 handlers)
[GIN-debug] GET    /api/settings             --> vinylfo/controllers.(*SettingsController).Get-fm (3 handlers)
[GIN-debug] PUT    /api/settings             --> vinylfo/controllers.(*SettingsController).Update-fm (3 handlers)
2026/01/15 12:35:54 Server starting on port 8080
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.
[GIN-debug] Listening and serving HTTP on :8080
[GIN] 2026/01/15 - 12:36:04 | 200 |            0s |             ::1 | GET      "/health"
[RateLimiter] Wait called: isAuth=false, windowElapsed=0s, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1
[GIN] 2026/01/15 - 12:36:18 | 200 |    701.6674ms |             ::1 | GET      "/api/discogs/search?q=Abbey%20Road"
[RateLimiter] Wait called: isAuth=false, windowElapsed=0s, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1
[GIN] 2026/01/15 - 12:36:26 | 200 |    208.3314ms |             ::1 | GET      "/api/discogs/search?q=The%20Beatles%20Abbey%20Road"
[RateLimiter] Wait called: isAuth=false, windowElapsed=0s, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1

2026/01/15 12:36:35 [31;1mE:/Golang/OpenCode/Vinylfo/controllers/discogs.go:304 [35;1mError 1062 (23000): Duplicate entry 'Abbey Road' for key 'idx_albums_title'
[0m[33m[1.246ms] [34;1m[rows:0][0m INSERT INTO `albums` (`title`,`artist`,`release_year`,`genre`,`label`,`country`,`release_date`,`style`,`discogs_id`,`cover_image_url`,`created_at`,`updated_at`) VALUES ('Abbey Road','The Beatles',2025,'Rock','','Worldwide','2025-10-10','Pop Rock',35336761,'https://i.discogs.com/BoQ7f0mI9eh51JUQhfpTpWkOHCGqMAwdxEWnL4P5zPw/rs:fit/g:sm/q:90/h:593/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTM1MzM2/NzYxLTE3NjY2NTQ5/NzItNjk2MC5qcGVn.jpeg','2026-01-15 17:36:35.812','2026-01-15 17:36:35.812') RETURNING `id`
[GIN] 2026/01/15 - 12:36:35 | 500 |     724.773ms |             ::1 | POST     "/api/discogs/albums"
[GIN] 2026/01/15 - 12:36:53 | 404 |            0s |             ::1 | POST     "/api/albums"
[GIN] 2026/01/15 - 12:37:27 | 201 |      1.9102ms |             ::1 | POST     "/albums"
[GIN] 2026/01/15 - 12:37:34 | 201 |      1.8586ms |             ::1 | POST     "/tracks"
[GIN] 2026/01/15 - 12:37:39 | 200 |       565.9Âµs |             ::1 | GET      "/albums/7"
[GIN] 2026/01/15 - 12:37:44 | 200 |       658.1Âµs |             ::1 | GET      "/albums/7/tracks"
[GIN] 2026/01/15 - 12:37:50 | 200 |      1.9921ms |             ::1 | DELETE   "/albums/7"
[GIN] 2026/01/15 - 12:38:32 | 304 |            0s |             ::1 | GET      "/search"
[GIN] 2026/01/15 - 12:38:34 | 200 |     49.7114ms |             ::1 | GET      "/search"
[GIN] 2026/01/15 - 12:38:35 | 200 |            0s |             ::1 | GET      "/static/css/style.css"
[GIN] 2026/01/15 - 12:38:35 | 200 |       567.7Âµs |             ::1 | GET      "/static/css/search.css"
[GIN] 2026/01/15 - 12:38:35 | 200 |            0s |             ::1 | GET      "/static/js/search.js"
[GIN] 2026/01/15 - 12:38:35 | 404 |            0s |             ::1 | GET      "/favicon.ico"
[RateLimiter] Wait called: isAuth=false, windowElapsed=511.4Âµs, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1
[GIN] 2026/01/15 - 12:38:37 | 200 |    207.8076ms |             ::1 | GET      "/api/discogs/search?q=Death%20Cab%20For%20Cutie&page=1"
[RateLimiter] Wait called: isAuth=false, windowElapsed=0s, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1

2026/01/15 12:38:40 [31;1mE:/Golang/OpenCode/Vinylfo/controllers/discogs.go:304 [35;1mError 1062 (23000): Duplicate entry 'The Photo Album' for key 'idx_albums_title'
[0m[33m[0.560ms] [34;1m[rows:0][0m INSERT INTO `albums` (`title`,`artist`,`release_year`,`genre`,`label`,`country`,`release_date`,`style`,`discogs_id`,`cover_image_url`,`created_at`,`updated_at`) VALUES ('The Photo Album','Death Cab For Cutie',2025,'Rock','','US','2025-08-08','Indie Rock',34779833,'https://i.discogs.com/gqMJle15_t2ip6n9x_5gEPhRKh_-sJ6652UiQ5bKlRw/rs:fit/g:sm/q:90/h:600/w:597/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTM0Nzc5/ODMzLTE3NTQ3ODQ5/MjUtMTI2MS5qcGVn.jpeg','2026-01-15 17:38:40.187','2026-01-15 17:38:40.187') RETURNING `id`
[GIN] 2026/01/15 - 12:38:40 | 500 |    331.2612ms |             ::1 | POST     "/api/discogs/albums"
[RateLimiter] Wait called: isAuth=false, windowElapsed=0s, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1

2026/01/15 12:38:43 [31;1mE:/Golang/OpenCode/Vinylfo/controllers/discogs.go:324 [35;1mTracks: unsupported relations for schema Album
[0m[33m[0.319ms] [34;1m[rows:1][0m SELECT * FROM `albums` WHERE `albums`.`id` = 9 AND `albums`.`id` = 9 ORDER BY `albums`.`id` LIMIT 1
[GIN] 2026/01/15 - 12:38:43 | 201 |    480.1761ms |             ::1 | POST     "/api/discogs/albums"
[GIN] 2026/01/15 - 12:38:55 | 200 |            0s |             ::1 | GET      "/search"
[GIN] 2026/01/15 - 12:38:55 | 200 |            0s |             ::1 | GET      "/static/css/style.css"
[GIN] 2026/01/15 - 12:38:55 | 200 |            0s |             ::1 | GET      "/static/css/search.css"
[GIN] 2026/01/15 - 12:38:55 | 200 |       560.6Âµs |             ::1 | GET      "/static/js/search.js"
[GIN] 2026/01/15 - 12:38:55 | 404 |            0s |             ::1 | GET      "/favicon.ico"
[GIN] 2026/01/15 - 12:38:56 | 200 |            0s |             ::1 | GET      "/search"
[GIN] 2026/01/15 - 12:38:56 | 200 |       525.7Âµs |             ::1 | GET      "/static/css/search.css"
[GIN] 2026/01/15 - 12:38:56 | 200 |       636.5Âµs |             ::1 | GET      "/static/css/style.css"
[GIN] 2026/01/15 - 12:38:56 | 200 |       636.5Âµs |             ::1 | GET      "/static/js/search.js"
[GIN] 2026/01/15 - 12:38:57 | 404 |            0s |             ::1 | GET      "/favicon.ico"
[RateLimiter] Wait called: isAuth=false, windowElapsed=0s, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1
[GIN] 2026/01/15 - 12:39:01 | 200 |    178.2773ms |             ::1 | GET      "/api/discogs/search?q=Death%20Cab%20For%20Cutie%20Trans&page=1"
[RateLimiter] Wait called: isAuth=false, windowElapsed=0s, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1

2026/01/15 12:39:08 [31;1mE:/Golang/OpenCode/Vinylfo/controllers/discogs.go:324 [35;1mTracks: unsupported relations for schema Album
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM `albums` WHERE `albums`.`id` = 10 AND `albums`.`id` = 10 ORDER BY `albums`.`id` LIMIT 1
[GIN] 2026/01/15 - 12:39:08 | 201 |    887.1685ms |             ::1 | POST     "/api/discogs/albums"
[GIN] 2026/01/15 - 12:39:50 | 304 |            0s |             ::1 | GET      "/static/js/search.js"
[RateLimiter] Wait called: isAuth=false, windowElapsed=0s, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1
[GIN] 2026/01/15 - 12:39:54 | 200 |     208.109ms |             ::1 | GET      "/api/discogs/search?q=Bryan%20Adam&page=1"
[RateLimiter] Wait called: isAuth=false, windowElapsed=0s, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1
[GIN] 2026/01/15 - 12:39:59 | 200 |    158.9065ms |             ::1 | GET      "/api/discogs/search?q=Bryan%20Adam&page=630"
[RateLimiter] Wait called: isAuth=false, windowElapsed=0s, authCount=0, anonCount=0
[RateLimiter] Incremented count to 1

2026/01/15 12:40:07 [31;1mE:/Golang/OpenCode/Vinylfo/controllers/discogs.go:324 [35;1mTracks: unsupported relations for schema Album
[0m[33m[0.375ms] [34;1m[rows:1][0m SELECT * FROM `albums` WHERE `albums`.`id` = 11 AND `albums`.`id` = 11 ORDER BY `albums`.`id` LIMIT 1
[GIN] 2026/01/15 - 12:40:07 | 201 |     279.345ms |             ::1 | POST     "/api/discogs/albums"
[GIN] 2026/01/15 - 12:40:42 | 200 |       560.8Âµs |             ::1 | GET      "/albums"
[GIN] 2026/01/15 - 12:42:47 | 404 |            0s |             ::1 | GET      "/api/discogs/albums/35336761"
[GIN] 2026/01/15 - 12:42:52 | 200 |            0s |             ::1 | GET      "/health"
