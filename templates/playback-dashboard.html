{{ define "playback-dashboard-page" }}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player - Vinylfo</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="icon" type="image/x-icon" href="/icons/vinyl-icon.ico">
    <link rel="stylesheet" href="/static/css/playback-dashboard.css">
</head>
<body>
{{ template "header" }}
<div id="playback-dashboard">
    <main>
        <div id="resume-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Continue Playing?</h3>
                <p>You were listening to: <span id="resume-track-name">Unknown Track</span></p>
                <div class="modal-actions">
                    <button id="resume-btn">Resume</button>
                    <button id="cancel-resume-btn">Start Fresh</button>
                </div>
                <p class="auto-resume-note"><small>Auto-resuming in 3 seconds...</small></p>
            </div>
        </div>
        <div id="current-track">
            <div class="track-info">
                <h2 id="track-title">No Track Playing</h2>
                <p id="track-artist">-</p>
                <p id="track-album">-</p>
                <p id="track-duration">Duration: 00:00</p>
                <p id="track-position">Position: 00:00</p>
                <p id="playlist-info" style="display: none;">-</p>
            </div>
            <div class="progress-container"><div id="progress-bar"></div></div>
        </div>
        <div id="playback-controls">
            <button id="play-btn">Play</button>
            <button id="pause-btn" disabled>Pause</button>
            <button id="previous-btn">Previous</button>
            <button id="next-btn">Next</button>
            <button id="stop-btn">Stop</button>
            <button id="toggle-queue-btn">Show Queue</button>
            <button id="auto-play-btn" class="toggle-btn">Auto-Play: OFF</button>
        </div>
        <div id="duration-settings" class="duration-settings">
            <label class="duration-toggle">
                <input type="checkbox" id="use-youtube-duration">
                <span class="duration-label">Use YouTube video duration</span>
            </label>
            <p class="duration-hint">Use this if the YouTube video is longer than the database duration</p>
            <div id="duration-comparison" class="duration-comparison">
                <span id="db-duration" class="duration-db">DB: --:--</span>
                <span class="duration-separator">|</span>
                <span id="yt-duration" class="duration-yt">YT: --:--</span>
                <span class="duration-separator">|</span>
                <span id="duration-diff" class="duration-diff"></span>
            </div>
            <button id="refresh-duration-btn" class="refresh-duration-btn" style="display: none;">
                Refresh YouTube Duration
            </button>
            <div id="duration-status" class="duration-status"></div>
        </div>
        <div id="queue-panel" style="display: none;">
            <h3>Up Next</h3>
            <div id="queue-list"><p class="empty-message">Queue is empty</p></div>
            <div class="pagination-controls">
                <div class="page-controls">
                    <button type="button" id="prev-page-btn" class="page-btn" disabled>&larr; Prev</button>
                    <span id="page-info">Page 1 of 1</span>
                    <button type="button" id="next-page-btn" class="page-btn" disabled>Next &raquo;</button>
                </div>
            </div>
        </div>
    </main>
    {{ template "footer" }}
</div>
<script src="/static/js/tab-sync-manager.js"></script>
<script src="/static/js/playback-dashboard.js"></script>
</body>
</html>
{{ end }}
